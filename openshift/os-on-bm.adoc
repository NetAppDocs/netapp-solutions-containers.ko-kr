---
sidebar: sidebar 
permalink: openshift/os-on-bm.html 
keywords: OpenShift, bare metal, IPI 
summary:  
---
= 베어 메탈의 OpenShift
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Bare Metal의 OpenShift는 상용 서버에 OpenShift 컨테이너 플랫폼을 자동으로 배포합니다.

Bare Metal의 OpenShift는 OpenShift의 가상 배포와 유사하며, 컨테이너화할 준비가 되지 않은 애플리케이션에 대한 가상화된 워크로드를 지원하는 동시에 OpenShift 클러스터의 배포 용이성, 빠른 프로비저닝 및 확장을 제공합니다.  베어 메탈에 배포하면 OpenShift 환경 외에 호스트 하이퍼바이저 환경을 관리하는 데 필요한 추가 오버헤드가 필요하지 않습니다.  베어 메탈 서버에 직접 배포하면 호스트와 OpenShift 환경 간에 리소스를 공유해야 하는 물리적 오버헤드 제한도 줄일 수 있습니다.



== Bare Metal의 OpenShift는 다음과 같은 기능을 제공합니다.

* *IPI 또는 지원 설치 프로그램 배포* 베어 메탈 서버에 Installer Provisioned Infrastructure(IPI)를 통해 배포된 OpenShift 클러스터를 통해 고객은 하이퍼바이저 계층을 관리할 필요 없이 매우 다재다능하고 쉽게 확장 가능한 OpenShift 환경을 상용 서버에 직접 배포할 수 있습니다.
* *소형 클러스터 설계* 하드웨어 요구 사항을 최소화하기 위해 베어 메탈 기반 OpenShift는 OpenShift 제어 평면 노드가 작업자 노드 및 호스트 컨테이너 역할도 수행할 수 있도록 하여 사용자가 3개의 노드만으로 구성된 클러스터를 배포할 수 있도록 합니다.
* *OpenShift 가상화* OpenShift는 OpenShift 가상화를 사용하여 컨테이너 내에서 가상 머신을 실행할 수 있습니다.  이 컨테이너 기반 가상화는 컨테이너 내부에서 KVM 하이퍼바이저를 실행하고 VM 스토리지에 대한 영구 볼륨을 연결합니다.
* *AI/ML 최적화 인프라* GPU 기반 워커 노드를 OpenShift 환경에 통합하고 OpenShift Advanced Scheduling을 활용하여 머신 러닝 애플리케이션을 위한 Kubeflow와 같은 애플리케이션을 배포합니다.




== 네트워크 디자인

NetApp 솔루션의 Red Hat OpenShift는 두 개의 데이터 스위치를 사용하여 25Gbps의 기본 데이터 연결을 제공합니다.  또한 스토리지 노드의 대역 내 관리와 IPMI 기능의 대역 외 관리를 위해 1Gbps의 연결을 제공하는 두 개의 관리 스위치를 사용합니다.

OpenShift 베어 메탈 IPI 배포의 경우 프로비저너 노드를 만들어야 합니다. 프로비저너 노드는 별도의 네트워크에 연결된 네트워크 인터페이스가 있는 Red Hat Enterprise Linux 8 머신입니다.

* *프로비저닝 네트워크* 이 네트워크는 베어 메탈 노드를 부팅하고 OpenShift 클러스터를 배포하는 데 필요한 이미지와 패키지를 설치하는 데 사용됩니다.
* *베어메탈 네트워크* 이 네트워크는 클러스터가 배포된 후 대중과 소통하는 데 사용됩니다.


프로비저너 노드를 설정하기 위해 고객은 트래픽이 노드 자체와 배포 목적으로 프로비저닝된 Bootstrap VM에서 적절하게 라우팅될 수 있도록 하는 브리지 인터페이스를 만듭니다.  클러스터가 배포된 후 API와 수신 VIP 주소가 부트스트랩 노드에서 새로 배포된 클러스터로 마이그레이션됩니다.

다음 이미지는 IPI 배포 중과 배포가 완료된 후의 환경을 보여줍니다.

image:redhat-openshift-036.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

image:redhat-openshift-037.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]



=== VLAN 요구 사항

NetApp 솔루션이 포함된 Red Hat OpenShift는 가상 LAN(VLAN)을 사용하여 다양한 목적에 맞는 네트워크 트래픽을 논리적으로 분리하도록 설계되었습니다.

[cols="40%, 40%, 20%"]
|===
| VLAN | 목적 | VLAN ID 


| 대역 외 관리 네트워크 | 베어 메탈 노드 및 IPMI 관리 | 16 


| 베어메탈 네트워크 | 클러스터가 사용 가능해지면 OpenShift 서비스를 위한 네트워크가 생성됩니다. | 181 


| 프로비저닝 네트워크 | IPI를 통한 PXE 부팅 및 베어 메탈 노드 설치를 위한 네트워크 | 3485 
|===

NOTE: 이러한 각 네트워크는 VLAN으로 가상으로 분리되어 있지만, PXE 부팅 시퀀스 동안 VLAN 태그를 전달할 방법이 없기 때문에 각 물리적 포트는 기본 VLAN이 할당된 액세스 모드로 설정되어야 합니다.



=== 네트워크 인프라 지원 리소스

OpenShift 컨테이너 플랫폼을 배포하기 전에 다음 인프라가 마련되어 있어야 합니다.

* 인밴드 관리 네트워크와 VM 네트워크에서 접근 가능한 전체 호스트 이름 확인을 제공하는 하나 이상의 DNS 서버.
* 인밴드 관리 네트워크와 VM 네트워크에서 접근할 수 있는 NTP 서버가 하나 이상 있어야 합니다.
* (선택 사항) 인밴드 관리 네트워크와 VM 네트워크 모두를 위한 아웃바운드 인터넷 연결.

